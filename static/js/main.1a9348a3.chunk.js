(this.webpackJsonpstarter=this.webpackJsonpstarter||[]).push([[0],{27:function(e,t,a){},38:function(e,t,a){e.exports=a(57)},57:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),r=a(34),i=a.n(r),l=(a(27),a(36)),o=a(5),u=a(11),s=a.n(u),m=a(15),d=a(16),p=a(17),f=a(24);a(44),a(58),a(46),a(59);f.a.initializeApp({apiKey:"AIzaSyCnYrssTTbTSjJZL1lFz0ehSaHikoQSUg0",authDomain:"shopping-list-7616b.firebaseapp.com",projectId:"shopping-list-7616b",storageBucket:"shopping-list-7616b.appspot.com",messagingSenderId:"156962899235",appId:"1:156962899235:web:0942979d45682b79b2f896",measurementId:"G-F13NHHJP2L"});var v=f.a.storage();f.a.firestore();var b=f.a,h=a(35);var E=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(""),l=Object(p.a)(i,2),o=l[0],u=l[1];return Object(n.useEffect)((function(){(function(){var e=Object(d.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.firestore().collection("list").onSnapshot((function(e){r(e.docs.map((function(e){return Object(m.a)(Object(m.a)({},e.data()),{},{id:e.id})})))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),a.map((function(e,t){return c.a.createElement("ul",{key:t},c.a.createElement("li",null,t),c.a.createElement("li",null,e.itemName),c.a.createElement("li",null,e.thumb),c.a.createElement("li",null,e.isSelected),c.a.createElement("li",null,e.quantity))})),console.log(),c.a.createElement("div",{className:"share"},c.a.createElement("div",{className:"app-background"},c.a.createElement("div",{className:"main-container"},c.a.createElement("div",{className:"add-item-box"},c.a.createElement("input",{type:"email",onChange:function(e){return u(e.target.value)},className:"add-item-input",placeholder:"Enter email.",name:"user_email"}),c.a.createElement("button",{type:"submit",onClick:function(e){var t={from_name:"Nguy\u1ec5n Th\u1ecb H\u1eb1ng",to_email:o,message:JSON.stringify(a)};h.send("service_x9fgz7l","template_uflxvtm",t,"user_vbOZbXg9DJRhTlQC2HPI5").then((function(e){console.log(e.status,e.text)}),(function(e){console.log(e)}))}},"Share")))))},g=a(22),j=a(20),O=a(21),N=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(""),l=Object(p.a)(i,2),o=l[0],u=l[1],f=Object(n.useState)(),h=Object(p.a)(f,2),E=h[0],N=h[1],y=Object(n.useState)(null),S=Object(p.a)(y,2),k=S[0],w=S[1];Object(n.useEffect)((function(){(function(){var e=Object(d.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.firestore().collection("list").onSnapshot((function(e){r(e.docs.map((function(e){return Object(m.a)(Object(m.a)({},e.data()),{},{id:e.id})})));var t=0;e.docs.map((function(e){return t+=e.data().quantity})),N(t)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var x=function(){var e=a.reduce((function(e,t){return e+t.quantity}),0);N(e)};return c.a.createElement("div",{className:"app-background"},c.a.createElement("div",{className:"main-container"},c.a.createElement("div",{className:"add-item-box"},c.a.createElement("input",{value:o,onChange:function(e){return u(e.target.value)},className:"add-item-input",placeholder:"Add an item..."}),c.a.createElement("input",{type:"file",onChange:function(e){w(e.target.files[0])}}),c.a.createElement(j.a,{icon:O.e,onClick:function(e){return function(e){(e.preventDefault(),""===o)?alert("Please enter value"):v.ref("/images/".concat(k.name)).put(k).on("state_changed",console.log,console.error,(function(){v.ref("images").child(k.name).getDownloadURL().then((function(e){w(null);var t={itemName:o,quantity:1,isSelected:!1,thumb:e},n=[].concat(Object(g.a)(a),[t]);b.firestore().collection("list").add(t),r(n),u(""),x()}))}))}(e)}})),c.a.createElement("div",{className:"item-list"},a.map((function(e,t){return c.a.createElement("div",{key:t,className:"item-container"},c.a.createElement("div",{className:"item-name",onClick:function(){return function(e){var t=Object(g.a)(a);t[e].isSelected=!t[e].isSelected;var n=b.firestore();n.collection("list").get().then((function(a){var c=[];a.forEach(function(){var a=Object(d.a)(s.a.mark((function a(r){var i;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=Object(m.a)({id:r.id},r.data()),a.next=3,c.push(i);case 3:c[e].id===i.id&&n.collection("list").doc(c[e].id).update(t[e]);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())})),r(t)}(t)}},e.isSelected?c.a.createElement(c.a.Fragment,null,c.a.createElement(j.a,{icon:O.a}),c.a.createElement("span",{className:"completed"},e.itemName)):c.a.createElement(c.a.Fragment,null,c.a.createElement(j.a,{icon:O.d}),c.a.createElement("span",null,e.itemName))),c.a.createElement("div",{className:"item-thumb"},c.a.createElement("img",{src:e.thumb,alt:e.title})),c.a.createElement("div",{className:"quantity"},c.a.createElement("button",null,c.a.createElement(j.a,{icon:O.b,onClick:function(){return function(e){var t=Object(g.a)(a);t[e].quantity--;var n=b.firestore();n.collection("list").get().then((function(a){var c=[];a.forEach(function(){var a=Object(d.a)(s.a.mark((function a(r){var i;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=Object(m.a)({id:r.id},r.data()),a.next=3,c.push(i);case 3:c[e].id===i.id&&n.collection("list").doc(c[e].id).update(t[e]);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())})),r(t),x()}(t)}})),c.a.createElement("span",null," ",e.quantity," "),c.a.createElement("button",null,c.a.createElement(j.a,{icon:O.c,onClick:function(){return function(e){var t=Object(g.a)(a);t[e].quantity++;var n=b.firestore();n.collection("list").get().then((function(a){var c=[];a.forEach(function(){var a=Object(d.a)(s.a.mark((function a(r){var i;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=Object(m.a)({id:r.id},r.data()),a.next=3,c.push(i);case 3:c[e].id===i.id&&n.collection("list").doc(c[e].id).update(t[e]);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())})),r(t),x()}(t)}}))),c.a.createElement("div",null,c.a.createElement("button",{className:"btn-remove"},c.a.createElement(j.a,{icon:O.f,onClick:function(){return function(e){var t=Object(g.a)(a);t.splice(e,1);var n=b.firestore();n.collection("list").get().then((function(t){var a=[];t.forEach(function(){var t=Object(d.a)(s.a.mark((function t(c){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(m.a)({id:c.id},c.data()),t.next=3,a.push(r);case 3:a[e].id===r.id&&n.collection("list").doc(a[e].id).delete();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})),r(t),x()}(t)}}))))}))),c.a.createElement("div",{className:"footer"},c.a.createElement("button",{onClick:function(){window.location.href="/shopping-list/share"},className:"btn-share"}," Share "),c.a.createElement("div",{className:"total"},"Total: ",E))))};var y=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(l.a,null,c.a.createElement(o.c,null,c.a.createElement(o.a,{path:"/shopping-list",exact:!0,component:N}),c.a.createElement(o.a,{path:"/shopping-list/share",component:E}))))};i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(y,null)),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.1a9348a3.chunk.js.map