{"version":3,"sources":["Config/firebase.js","Share.js","shoppingList.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","storage","firestore","Share","useState","items","setItems","inputValue","setInputValue","useEffect","a","collection","onSnapshot","data","docs","map","doc","id","fetchData","item","index","key","itemName","thumb","isSelected","quantity","console","log","className","type","onChange","event","target","value","placeholder","name","onClick","e","from_name","to_email","message","JSON","stringify","emailjs","then","response","status","text","err","ShoppingList","totalItemCount","setTotalItemCount","file","setFile","total","calculateTotal","reduce","files","icon","faPlus","preventDefault","alert","ref","put","on","error","child","getDownloadURL","url","newItem","newItems","add","handleAddButtonClick","db","get","forEach","push","update","toggleComplete","faCheckCircle","faCircle","src","alt","title","faChevronLeft","handleQuantityDecrease","faChevronRight","handleQuantityIncrease","faTimes","splice","delete","removeTodo","to","App","path","exact","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.45c4ae6e.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/auth\"; // for authentication\nimport \"firebase/storage\"; // for storage\nimport \"firebase/database\"; // for realtime database\nimport \"firebase/firestore\"; // for cloud firestore\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCnYrssTTbTSjJZL1lFz0ehSaHikoQSUg0\",\n  authDomain: \"shopping-list-7616b.firebaseapp.com\",\n  projectId: \"shopping-list-7616b\",\n  storageBucket: \"shopping-list-7616b.appspot.com\",\n  messagingSenderId: \"156962899235\",\n  appId: \"1:156962899235:web:0942979d45682b79b2f896\",\n  measurementId: \"G-F13NHHJP2L\",\n};\n\nfirebase.initializeApp(firebaseConfig);\nexport const storage = firebase.storage();\nfirebase.firestore();\n\nexport default firebase;\n","import React, { useState, useEffect } from \"react\";\nimport firebase from \"./Config/firebase\";\nimport * as emailjs from \"emailjs-com\";\nfunction Share() {\n  const [items, setItems] = useState([]);\n  const [inputValue, setInputValue] = useState(\"\");\n  useEffect(() => {\n    const fetchData = async () => {\n      const db = firebase.firestore();\n      db.collection(\"list\").onSnapshot(function (data) {\n        setItems(data.docs.map((doc) => ({ ...doc.data(), id: doc.id })));\n      });\n    };\n    fetchData();\n  }, []);\n\n  // console.log(items);\n\n        {items.map((item, index) => (\n          <ul key={index}>\n              <li>{index}</li>\n              <li>{item.itemName}</li>\n              <li>{item.thumb}</li>\n              <li>{item.isSelected}</li>\n              <li>{item.quantity}</li>\n            </ul>\n        ))}\n\n   console.log();\n  function sendEmails(e) {\n   \n    const service_id = \"service_x9fgz7l\";\n    const templates_id = \"template_uflxvtm\";\n    const user_id = \"user_vbOZbXg9DJRhTlQC2HPI5\";\n    var data = {\n      from_name: \"Nguyễn Thị Hằng\",\n      to_email: inputValue,\n      message: JSON.stringify(items),\n    };\n    emailjs.send(service_id, templates_id, data, user_id).then(\n      function (response) {\n        console.log(response.status, response.text);\n      },\n      function (err) {\n        console.log(err);\n      }\n    );\n  }\n\n  return (\n    <div className=\"share\">\n      <div className=\"app-background\">\n        <div className=\"main-container\">\n          <div className=\"add-item-box\">\n            <input\n              type=\"email\"\n              onChange={(event) => setInputValue(event.target.value)}\n              className=\"add-item-input\"\n              placeholder=\"Enter email.\"\n              name=\"user_email\"\n            />\n            <button type=\"submit\" onClick={sendEmails}>\n              Share\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\nexport default Share;\n","import React, { useState, useEffect } from \"react\";\nimport \"./index.css\";\nimport firebase, { storage } from \"./Config/firebase\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {Link} from 'react-router-dom'\nimport {\n  faChevronRight,\n  faChevronLeft,\n  faCircle,\n  faCheckCircle,\n  faPlus,\n  faTimes\n} from \"@fortawesome/free-solid-svg-icons\";\n\nconst ShoppingList = () => {\n  const [items, setItems] = useState([]);\n  const [inputValue, setInputValue] = useState(\"\");\n  const [totalItemCount, setTotalItemCount] = useState();\n  const [file, setFile] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const db = firebase.firestore();\n      db.collection(\"list\").onSnapshot(function (data) {\n        setItems(data.docs.map((doc) => ({ ...doc.data(), id: doc.id })));\n        var total = 0;\n        data.docs.map((doc) => {\n          return total += doc.data().quantity;\n        })\n        setTotalItemCount(total);\n      });\n    };\n    fetchData();\n  }, []);\n  function handleChange(e) {\n    setFile(e.target.files[0]);\n  }\n  const handleAddButtonClick = (e) => {\n    e.preventDefault();\n    if(inputValue === \"\") {\n      alert(\"Please enter value\");\n    } else {\n      const uploadTask = storage.ref(`/images/${file.name}`).put(file);\n      uploadTask.on(\"state_changed\", console.log, console.error, () => {\n        storage\n          .ref(\"images\")\n          .child(file.name)\n          .getDownloadURL()\n          .then((url) => {\n            setFile(null);\n            const newItem = {\n              itemName: inputValue,\n              quantity: 1,\n              isSelected: false,\n              thumb: url,\n            };\n  \n            const newItems = [...items, newItem];\n            const db = firebase.firestore();\n  \n            db.collection(\"list\").add(newItem);\n            setItems(newItems);\n            setInputValue(\"\");\n            calculateTotal();\n          });\n      });\n    }\n  };\n\n  const handleQuantityIncrease = (index) => {\n    const newItems = [...items];\n\n    newItems[index].quantity++;\n\n    const db = firebase.firestore();\n    db.collection(\"list\")\n      .get()\n      .then((docs) => {\n        let items = [];\n        docs.forEach(async (doc) => {\n          const item = {\n            id: doc.id,\n            ...doc.data(),\n          };\n          await items.push(item);\n           if (items[index].id === item.id) {\n            db.collection(\"list\").doc(items[index].id).update(newItems[index]);\n          }\n        });\n      });\n    setItems(newItems);\n    calculateTotal();\n  };\n\n  const handleQuantityDecrease = (index) => {\n    const newItems = [...items];\n\n    newItems[index].quantity--;\n    const db = firebase.firestore();\n    db.collection(\"list\")\n      .get()\n      .then((docs) => {\n        let items = [];\n        docs.forEach(async (doc) => {\n          const item = {\n            id: doc.id,\n            ...doc.data(),\n          };\n          await items.push(item);\n           if (items[index].id === item.id) {\n            db.collection(\"list\").doc(items[index].id).update(newItems[index]);\n          }\n        });\n      });\n    setItems(newItems);\n    calculateTotal();\n  };\n\n  const removeTodo = (index) => {\n    const newItems = [...items];\n    newItems.splice(index, 1);\n    const db = firebase.firestore();\n    db.collection(\"list\")\n    .get()\n    .then((docs) => {\n      let items = [];\n      docs.forEach(async (doc) => {\n        const item = {\n          id: doc.id,\n          ...doc.data(),\n        };\n        await items.push(item);\n         if (items[index].id === item.id) {\n          db.collection(\"list\").doc(items[index].id).delete();\n        }\n      });\n    });\n    setItems(newItems);\n    calculateTotal();\n  };\n  const toggleComplete = (index) => {\n    const newItems = [...items];\n    newItems[index].isSelected = !newItems[index].isSelected;\n    const db = firebase.firestore();\n    db.collection(\"list\")\n      .get()\n      .then((docs) => {\n        let items = [];\n        docs.forEach(async (doc) => {\n          const item = {\n            id: doc.id,\n            ...doc.data(),\n          };\n          await items.push(item);\n           if (items[index].id === item.id) {\n            db.collection(\"list\").doc(items[index].id).update(newItems[index]);\n          }\n        });\n      });\n\n    setItems(newItems);\n  };\n\n  const calculateTotal = () => {\n    const totalItemCount = items.reduce((total, item) => {\n      return total + item.quantity;\n    }, 0);\n\n    setTotalItemCount(totalItemCount);\n  };\n\n  return (\n    <div className=\"app-background\">\n      <div className=\"main-container\">\n        <div className=\"add-item-box\">\n          <input\n            value={inputValue}\n            onChange={(event) => setInputValue(event.target.value)}\n            className=\"add-item-input\"\n            placeholder=\"Add an item...\"\n          />\n          <input type=\"file\" onChange={handleChange} />\n          <FontAwesomeIcon\n            icon={faPlus}\n            onClick={(e) => handleAddButtonClick(e)}\n          />\n        </div>\n\n        <div className=\"item-list\">\n          {items.map((item, index) => (\n            <div key={index} className=\"item-container\">\n              <div className=\"item-name\" onClick={() => toggleComplete(index)}>\n                {item.isSelected ? (\n                  <>\n                    <FontAwesomeIcon icon={faCheckCircle} />\n\n                    <span className=\"completed\">{item.itemName}</span>\n                   \n                  </>\n                ) : (\n                  <>\n                    <FontAwesomeIcon icon={faCircle} />\n                    <span>{item.itemName}</span>\n                    \n                  </>\n                )}\n              </div>\n              <div className=\"item-thumb\">\n              <img src={item.thumb} alt={item.title} />\n              </div>\n              <div className=\"quantity\">\n                <button>\n                  <FontAwesomeIcon\n\n                    icon={faChevronLeft}\n                    onClick={() => handleQuantityDecrease(index)}\n                  />\n                </button>\n                <span> {item.quantity} </span>\n                <button>\n                  <FontAwesomeIcon\n                    icon={faChevronRight}\n                    onClick={() => handleQuantityIncrease(index)}\n                  />\n                </button>\n              </div>\n              <div>\n                  <button className=\"btn-remove\">\n                  <FontAwesomeIcon\n                    icon={faTimes}\n                    onClick={() => removeTodo(index)}\n                  />\n                  </button>\n              </div>\n            </div>\n          ))}\n        </div>\n        <div className=\"footer\">\n        <Link to='/share' className=\"btn-share\"> Share </Link>\n        <div className=\"total\">Total: {totalItemCount}</div> \n        </div>\n        \n      </div>\n    </div>\n  );\n};\n\nexport default ShoppingList;\n","import React from \"react\";\nimport \"./index.css\";\nimport { HashRouter, Route } from \"react-router-dom\";\nimport Share from \"./Share\";\nimport ShoppingList from \"./shoppingList\";\nfunction App() {\n  return(\n    <div className=\"App\">\n      <HashRouter>\n          <Route path=\"/\" exact component={ShoppingList} />\n          <Route path=\"/share\" component={Share} />\n      </HashRouter>\n    </div>\n  )\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}